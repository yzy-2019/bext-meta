{"versions":[{"hash":"c0e2117631535c81aa4e64560ba58c854f782fbc","date":1645244136,"message":"首次提交","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"1"}],"meta":{"type":"javascript","name":" 更换字体","version":"1","synopsis":"更换网页内容字体","tags":["其他脚本","阅读脚本","美化脚本"],"detail":"<p>搬运自 <a rel=\"noopener noreferrer\" href=\"http://via-app.cn/#/pluginDetail/56\">Via 轻插件</a> ，作者 <a rel=\"noopener noreferrer\" href=\"http://via-app.cn/#/user/28\">Sky</a></p><p>对原脚本进行如下修改 ：</p><ul><li>适配本站安装选项</li></ul><p>以下是原版介绍，有删改：</p><p><br></p><h1>⚠️警告：该脚本存在大量问题，包括但不仅限于以下条目</h1><ol><li>字体样式需通过网络载入，字体文件可能较大(大小可达数MB)，<strong style=\"color: rgb(240, 102, 102);\">无缓存加载需要大量的流量和时间</strong>，加载期间可能出现网页白屏。（为用户体验考虑<strong style=\"color: rgb(240, 102, 102);\">已设为仅在使用wifi时启用脚本功能</strong>）</li><li>所选用的字体多为简中字体，<strong style=\"color: rgb(240, 102, 102);\">很可能不包括某些非常见字符</strong>(例如除英文的外文字符)，网页出现这些字符时可能无法正常显示。</li><li>擅自更改网页内容字体可能会导致网页排版混乱。</li><li>部分网页出于安全考虑可能会禁止用户使用外部样式(包括字体)，导致脚本无法生效。</li></ol><p><br></p><h2><span style=\"background-color: rgb(250, 204, 204);\"> </span> 测试链接</h2><p><br></p><p><a style=\"color: rgb(240, 102, 102);\" rel=\"noopener noreferrer\" href=\"https://www.coolapk.com/apk/mark.via\"><strong>点击进入测试网页</strong></a></p><p><br></p><ul><li>安装完脚本建议先刷新几次让脚本运行起来。</li></ul><p><br></p><h2><span style=\"background-color: rgb(250, 204, 204);\"> </span> 字体选择方法：</h2><p><br></p><p>您可以修改安装选项，来选择想要的字体。不修改默认采用霞鹜文楷(等线, Bold)。</p><p><br></p><h3>字体id对应表</h3><p><br></p><p>0:阿里巴巴普惠体(Medium)</p><p>1:濑户字体简体</p><p>2:霞鹜尚智黑</p><p>3:霞鹜文楷(等线, Bold)</p><p>4:资源圆体(Medium)</p><p><br></p><ul><li>所选用的字体均为免费字体，版权仍归原作者所有，若有侵犯相关权利，请联系删除。</li></ul><p><br></p><h2><span style=\"background-color: rgb(250, 204, 204);\"> </span> 使用建议：</h2><p><br></p><p><strong style=\"color: rgb(240, 102, 102);\">设置 - 通用 - 退出时清除数据</strong>中不要勾选<strong style=\"color: rgb(240, 102, 102);\">缓存</strong>，这样下次调用字体时，可能可以从缓存中直接读取，大幅减少加载时间。</p><p><br></p><p>建议在<strong style=\"color: rgb(240, 102, 102);\">脚本生效域名</strong>处中填入你需要大量阅读的网页域名，不建议直接应用于所有网站。</p><p><br></p><h2><span style=\"background-color: rgb(250, 204, 204);\"> </span> 免责声明：</h2><p><br></p><ul><li>此插件仅适用于个人技术研究学习，请勿商用。</li><li>出现任何法律纠纷，与作者无关。</li></ul><p><br></p>","source":"/*\n * @name: 更换字体\n * @Author: Sky\n * @version: 0.3\n * @description: 更换网页内容字体\n * @include: *\n * @createTime: 2020-6-7 18:00\n * @updateTime: 2021-7-27 12:00\n */\nimport config from '@bext/config';\n(function(){const\n/*等号后的数表示选择的字体*/\n id = config.id,\n/* 0:阿里巴巴普惠体(Medium)\n   1:濑户字体简体\n   2:霞鹜尚智黑\n   3:霞鹜文楷(等线, Bold)\n   4:资源圆体(Medium) */\n/*－－－－以下勿改－－－－*/\n key = encodeURIComponent('更换字体:执行判断');\n if(window[key] || navigator.connection.type != 'wifi'){return;}\n try {\n  window[key] = true;\n  let fn;\n  switch(id){\n   case 0:fn = \"AliPuHui\";break;\n   case 1:fn = \"NaihuSC\";break;\n   case 2:fn = \"xwFasmart\";break;\n   case 3:fn = \"xwWenKai\";break;\n   case 4:fn = \"zyYuanTi\";break;\n   default:fn = \"xwWenKai\";\n  }\n  const css = document.createElement('link');\n  css.href = \"data:text/css,@font-face{font-family:via-font;src:url('https://cdn.jsdelivr.net/gh/IlysvlVEizbr/via-font@0.3/\"+fn+\".woff2')}html,*{font-family:via-font,sans-serif!important}\";\n  css.rel = 'stylesheet';\n  document.head.append(css);\n } catch(err){console.log('更换字体：', err);}\n})();","configSchema":{"type":"object","properties":{"id":{"type":"integer","title":"字体","enum":[0,1,2,3,4],"minimum":0,"maximum":4,"description":"   0:阿里巴巴普惠体(Medium)\n   1:濑户字体简体\n   2:霞鹜尚智黑\n   3:霞鹜文楷(等线, Bold)\n   4:资源圆体(Medium)"}},"required":["id"]},"defaultConfig":{"id":3}},"hash":"c0e2117631535c81aa4e64560ba58c854f782fbc"}